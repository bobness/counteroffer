<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">

    <!-- build:css -->
    <link href="bower_components/angular-xeditable/dist/css/xeditable.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="bower_components/ng-tags-input/ng-tags-input.css">
    <!-- endbuild -->

    <link rel="stylesheet" href="style.css" />

    <link rel="shortcut icon" href="data:image/x-icon;," type="image/x-icon" />

    <title>Bob Stark's Portfolio</title>

    <!-- build:lib -->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="bower_components/angular/angular.min.js"></script>
    <script src="bower_components/angular-resource/angular-resource.min.js"></script>
    <script src="bower_components/angular-sanitize/angular-sanitize.min.js"></script>
    <script src="bower_components/angular-xeditable/dist/js/xeditable.min.js"></script>
    <script src="bower_components/angular-bootstrap/ui-bootstrap-tpls.min.js"></script>
    <script src="bower_components/ng-tags-input/ng-tags-input.min.js"></script>
    <script src="bower_components/ng-drag-to-reorder/ngDragToReorder.js"></script>
    <!-- endbuild -->

    <!-- build:js -->
    <script src="js/app.js"></script>
    <script src="js/portfolioController.js"></script>
    <script src="js/portfolioService.js"></script>
    <script src="js/experience.js"></script>
    <script src="js/histogram.js"></script>
    <script src="js/survey.js"></script>
    <!-- endbuild -->

  </head>
  <body ng-app="pc" ng-controller="portfolioController">

    <!-- build:hide -->
    <div style="text-align:center;margin:1em;">
      <button class="btn btn-sm btn-default" style="display:inline-block;"
      	ng-click="openLinkedInModal()">
      	<span class="glyphicon glyphicon-import" aria-hidden="true"></span>
      	Import LinkedIn
      </button>
      <button class="btn btn-sm btn-default" style="display:inline-block;"
        ng-if="selectedTags.length > 0"
        ng-click="createTheme(selectedTags)">
        <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
        Create Theme
      </button>
      <button class="btn btn-sm btn-default" style="display:inline-block;"
      	ng-if="themeIsSelected()"
      	ng-click="deleteSelectedTheme()">
      	<span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
      	Delete Theme
      </button>
      <button class="btn btn-sm btn-default" style="display:inline-block;"
        ng-if="themeIsSelected()"
      	ng-click="createCampaign()">
      	<span class="glyphicon glyphicon-export" aria-hidden="true"></span>
      	Export Theme
      </button>
    </div>
    <!-- endbuild -->

    <div style="max-height:300px;overflow-y:scroll;border:1px black solid;border-radius:5px;">
      <histogram
        tag-counts="tagCounts"
        set-filter="setFilter(func)"
        get-experiences="getExperiences()"
        selected-tags="selectedTags"
        themes="portfolio.themes"
        ></histogram>
    </div>

    <div style="text-align:center;margin:1em">
      <ul class="nav nav-pills" style="display:inline-block;">
        <li ng-class="{active: !surveyVisible()}">
          <a ng-click="hideSurvey()" style="cursor:pointer;">Experiences</a>
        </li>
        <li ng-class="{active: surveyVisible()}">
          <a ng-click="showSurvey()" style="cursor:pointer;">Contact</a>
        </li>
      </ul>
    </div>

    <div style="display:inline-block;box-sizing:border-box;" ng-hide="surveyVisible()">
      <div style="margin-top:10px;">
  	    <button class="btn btn-sm btn-default" ng-click="createExperience()">
  	      <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
          Add Experience
  	    </button>
      </div>
      <experience ng-repeat="exp in portfolio.experiences | filter:expFilter | orderBy : parseDate : true"
      	data="exp"
      	refresh-callback="refreshExperiences({exp: exp})">
      </experience>
    </div>

    <survey ng-if="surveyVisible()"
      theme="getSelectedTheme()"
      questions="getQuestions()"
      tag-counts="tagCounts">
    </survey>

    <script type="text/ng-template" id="tag-template">
      <div class="tag-template tag label label-info">
        <span>{{$getDisplayText()}}</span>
        <a class="remove-button" ng-click="$removeTag()">x</a>
      </div>
    </script>

    <div style="position:fixed;right:50px;bottom:0;">
      <div uib-alert ng-repeat="alert in alerts" ng-class="'alert-' + (alert.type || 'warning')" close="closeAlert($index)">{{ alert.msg }}</div>
    </div>

  </body>
</html>
